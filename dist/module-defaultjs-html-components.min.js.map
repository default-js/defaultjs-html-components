{"version":3,"file":"module-defaultjs-html-components.min.js","mappings":"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","sources":["webpack://@default-js/defaultjs-html-components/webpack/bootstrap","webpack://@default-js/defaultjs-html-components/webpack/runtime/define property getters","webpack://@default-js/defaultjs-html-components/webpack/runtime/hasOwnProperty shorthand","webpack://@default-js/defaultjs-html-components/webpack/runtime/make namespace object","webpack://@default-js/defaultjs-html-components/./node_modules/@default-js/defaultjs-common-utils/src/ObjectUtils.js","webpack://@default-js/defaultjs-html-components/./node_modules/@default-js/defaultjs-common-utils/src/PromiseUtils.js","webpack://@default-js/defaultjs-html-components/./node_modules/@default-js/defaultjs-common-utils/src/UUID.js","webpack://@default-js/defaultjs-html-components/./src/utils/EventHelper.js","webpack://@default-js/defaultjs-html-components/./src/Component.js","webpack://@default-js/defaultjs-html-components/./src/Constants.js","webpack://@default-js/defaultjs-html-components/./src/utils/DefineComponentHelper.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import ObjectProperty from \"./ObjectProperty.js\";\r\n\r\nconst equalArraySet = (a, b) => {\r\n\tif (a.length !== b.length) return false;\r\n\tconst length = a.length;\r\n\tfor (let i = 0; i < length; i++)\r\n\t\tif (!equalPojo(a[i], b[i])) {\r\n\t\t\t//console.log(\"false\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\treturn true;\r\n};\r\n\r\nconst equalMap = (a, b) => {\r\n\tif (a.length !== b.length) return false;\r\n\tfor (const key of a.keys())\r\n\t\tif (!equalPojo(a.get(key), b.get(key))) {\r\n\t\t\t//console.log(\"false\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\treturn true;\r\n};\r\n\r\nconst equalClasses = (a, b) => {\r\n\tconst clazzA = Object.getPrototypeOf(a);\r\n\tconst clazzB = Object.getPrototypeOf(b);\r\n\tif (clazzA != clazzB) return false;\r\n\r\n\tif (!clazzA) return true;\r\n\r\n\tconst propertiesA = Object.getOwnPropertyNames(clazzA);\r\n\tconst propertiesB = Object.getOwnPropertyNames(clazzB);\r\n\r\n\tif (propertiesA.length !== propertiesB.length) return false;\r\n\tfor (const key of propertiesA) {\r\n\t\tconst valueA = a[key];\r\n\t\tconst valueB = b[key];\r\n\r\n\t\tif (!equalPojo(valueA, valueB)) return false;\r\n\t}\r\n\treturn true;\r\n};\r\n\r\nconst equalObject = (a, b) => {\r\n\tconst propertiesA = Object.keys(a);\r\n\tconst propertiesB = Object.keys(b);\r\n\r\n\tif (propertiesA.length !== propertiesB.length) return false;\r\n\tfor (const key of propertiesA) {\r\n\t\tconst valueA = a[key];\r\n\t\tconst valueB = b[key];\r\n\r\n\t\tif (!equalPojo(valueA, valueB)) return false;\r\n\t}\r\n\treturn true;\r\n};\r\n\r\nexport const isNullOrUndefined = (object) => {\r\n\treturn object == null || typeof object === \"undefined\";\r\n};\r\n\r\nexport const isPrimitive = (object) => {\r\n\tif (object == null) return true;\r\n\r\n\tconst type = typeof object;\r\n\tswitch (type) {\r\n\t\tcase \"number\":\r\n\t\tcase \"bigint\":\r\n\t\tcase \"boolean\":\r\n\t\tcase \"string\":\r\n\t\tcase \"undefined\":\r\n\t\t\treturn true;\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n\r\nexport const isObject = (object) => {\r\n\tif(isNullOrUndefined(object))\r\n\t\treturn false;\r\n\r\n\treturn typeof object === \"object\" && (!object.constructor || object.constructor.name === \"Object\");\r\n};\r\n\r\n/**\r\n * equalPojo -> compares only pojos, array, set, map and primitives\r\n */\r\nexport const equalPojo = (a, b) => {\r\n\tconst nullA = isNullOrUndefined(a);\r\n\tconst nullB = isNullOrUndefined(b);\r\n\tif (nullA || nullB) return a === b;\r\n\r\n\tif (isPrimitive(a) || isPrimitive(b)) return a === b;\r\n\r\n\tconst typeA = typeof a;\r\n\tconst typeB = typeof b;\r\n\tif (typeA != typeB) return false;\r\n\tif (typeA === \"function\") return a === b;\r\n\t//if (a.constructor !== b.constructor) return false;\r\n\t//if (a instanceof Array || a instanceof Set) return equalArraySet(a, b);\r\n\t//if (a instanceof Map) return equalMap(a, b);\r\n\r\n\treturn equalObject(a, b) && equalClasses(a, b);\r\n};\r\n\r\n/**\r\n * checked if an object a simple object. No Array, Map or something else.\r\n *\r\n * @param aObject:object the object to be testing\r\n *\r\n * @return boolean\r\n */\r\nexport const isPojo = (object) => {\r\n\tif (!isObject(object)) return false;\r\n\r\n\tfor (const key in object) {\r\n\t\tconst value = object[key];\r\n\t\tif (typeof value === \"function\") return false;\r\n\t}\r\n\r\n\treturn true;\r\n};\r\n\r\n/**\r\n * append a propery value to an object. If propery exists its would be converted to an array\r\n *\r\n *  @param aKey:string name of property\r\n *  @param aData:any property value\r\n *  @param aObject:object the object to append the property\r\n *\r\n *  @return returns the changed object\r\n */\r\nexport const append = function (aKey, aData, aObject) {\r\n\tif (typeof aData !== \"undefined\") {\r\n\t\tconst property = ObjectProperty.load(aObject, aKey, true);\r\n\t\tproperty.append = aData;\r\n\t}\r\n\treturn aObject;\r\n};\r\n\r\n/**\r\n * merging object into a target object. Its only merge simple object and sub objects. Every other\r\n * value would be replaced by value from the source object.\r\n *\r\n * sample: merge(target, source-1, source-2, ...source-n)\r\n *\r\n * @param target:object the target object to merging into\r\n * @param sources:object\r\n *\r\n * @return object returns the target object\r\n */\r\nexport const merge = function (target, ...sources) {\r\n\tif (!target) target = {};\r\n\r\n\tfor (let source of sources) {\r\n\t\tif (isPojo(source)) {\r\n\t\t\tObject.getOwnPropertyNames(source).forEach((key) => {\r\n\t\t\t\tif (isPojo(target[key])) merge(target[key], source[key]);\r\n\t\t\t\telse target[key] = source[key];\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\treturn target;\r\n};\r\n\r\nconst buildPropertyFilter = function ({ names, allowed }) {\r\n\treturn (name, value, context) => {\r\n\t\treturn names.includes(name) === allowed;\r\n\t};\r\n};\r\n\r\nexport const filter = function () {\r\n\tconst [data, propFilter, { deep = false, recursive = true, parents = [] } = {}] = arguments;\r\n\tconst result = {};\r\n\r\n\tfor (let name in data) {\r\n\t\tconst value = data[name];\r\n\t\tconst accept = propFilter(name, value, data);\r\n\t\tif (accept && (!deep || value === null || value === undefined)) result[name] = value;\r\n\t\telse if (accept && deep) {\r\n\t\t\tconst type = typeof value;\r\n\t\t\tif (type !== \"object\" || value instanceof Array || value instanceof Map || value instanceof Set || value instanceof RegExp || parents.includes[value] || value == data) result[name] = value;\r\n\t\t\telse result[name] = filter(value, propFilter, { deep, recursive, parents: parents.concat(data) });\r\n\t\t}\r\n\t}\r\n\r\n\treturn result;\r\n};\r\n\r\nexport const defValue = (o, name, value) => {\r\n\tObject.defineProperty(o, name, {\r\n\t\tvalue,\r\n\t\twritable: false,\r\n\t\tconfigurable: false,\r\n\t\tenumerable: false,\r\n\t});\r\n};\r\nexport const defGet = (o, name, get) => {\r\n\tObject.defineProperty(o, name, {\r\n\t\tget,\r\n\t\tconfigurable: false,\r\n\t\tenumerable: false,\r\n\t});\r\n};\r\n\r\nexport const defGetSet = (o, name, get, set) => {\r\n\tObject.defineProperty(o, name, {\r\n\t\tget,\r\n\t\tset,\r\n\t\tconfigurable: false,\r\n\t\tenumerable: false,\r\n\t});\r\n};\r\n\r\nexport default {\r\n\tisNullOrUndefined,\r\n\tisObject,\r\n\tequalPojo,\r\n\tisPojo,\r\n\tappend,\r\n\tmerge,\r\n\tfilter,\r\n\tbuildPropertyFilter,\r\n\tdefValue,\r\n\tdefGet,\r\n\tdefGetSet,\r\n};\r\n","import {defValue, defGet} from \"./ObjectUtils\"\r\n\r\nexport const timeoutPromise = (fn, ms) =>{\r\n\tlet canceled = false;\r\n\tlet timeout = null;\r\n\tconst promise = new Promise((r, e) => {\r\n\t\ttimeout = setTimeout(()=> {\r\n\t\t\ttimeout = null;\r\n\t\t\tfn(r,e);\r\n\t\t}, ms)\r\n\t});\r\n\r\n\tconst then = promise.then;\r\n\tpromise.then = (fn) => {\r\n\t\tthen.call(promise, (result) => {\r\n\t\t\tif(!this.canceled)\r\n\t\t\t\treturn fn(result);\r\n\t\t});\r\n\t}\r\n\r\n\tdefValue(promise, \"cancel\", () => {\r\n\t\tif(timeout){\r\n\t\t\tclearTimeout(timeout);\r\n\t\t\tcanceled = true;\r\n\t\t}\r\n\t});\r\n\tdefGet(promise, canceld, () => canceled);\r\n\r\n\treturn promise;\r\n}\r\n\r\n\r\nexport const lazyPromise = () => {\r\n\t\tlet promiseResolve = null;\r\n\t\tlet promiseError = null;\r\n\r\n\t\tconst promise = new Promise((r, e) => {\r\n\t\t\tpromiseResolve = r;\r\n\t\t\tpromiseError = e;\r\n\t\t});\r\n\r\n\t\tlet resolved = false;\r\n\t\tlet error = false;\r\n\t\tlet value = undefined;\r\n\r\n\t\tdefValue(promise, \"resolve\", (result) => {\r\n\t\t\tvalue = result;\r\n\t\t\tresolved = true;\r\n\t\t\tif (value instanceof Error) {\r\n\t\t\t\terror = true;\r\n\t\t\t\tpromiseError(value);\r\n\t\t\t} else promiseResolve(value);\r\n\t\t});\r\n\r\n\t\tdefGet(promise, \"value\", () => value);\r\n\t\tdefGet(promise, \"error\", () => error);\r\n\t\tdefGet(promise, \"resolved\", () => resolved);\r\n\r\n\t\treturn promise;\r\n};\r\nexport default {\r\n\tlazyPromise,\r\n\ttimeoutPromise\r\n}\r\n","//the solution is found here: https://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid\r\nexport const UUID_SCHEMA = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\";\r\n\r\nexport const uuid = () => {\r\n\tconst buf = new Uint32Array(4);\r\n\twindow.crypto.getRandomValues(buf);\r\n\tlet idx = -1;\r\n\treturn UUID_SCHEMA.replace(/[xy]/g, (c) => {\r\n\t\tidx++;\r\n\t\tconst r = (buf[idx >> 3] >> ((idx % 8) * 4)) & 15;\r\n\t\tconst v = c == \"x\" ? r : (r & 0x3) | 0x8;\r\n\t\treturn v.toString(16);\r\n\t});\r\n};\r\n\r\nexport default { uuid };\r\n","import {attributeChangeEventPrefix} from \"../Constants\";\n\n/**\n * @function componentEventname\n * \n * creates an event name for an component\n * \n * @param {string} eventType \n * @param {string|HTMLElement|Component} node \n * @param {string} [separator] default is \":\"\n * \n * @returns {string} \n */\nexport const componentEventname = (eventType, node, separator = \":\" ) => {\t\n\tlet nodename = \"unsupported\";\n\tif(typeof node === \"string\")\n\t\tnodename = node;\n\telse if(node instanceof HTMLElement)\n\t\tnodename = node.nodeName;\n\telse if(typeof node.NODENAME === \"string\")\n\t\tnodename = node.NODENAME;\n\telse throw new Error(`${typeof node} is not supported as parameter \"node\"!`);\n\t\n   return `${nodename.toLowerCase()}${separator}${eventType}`;//use @ as separtor and not :\n};\n\n/**\n * @function attributeChangeEventname\n *  * \n * @param {string} attribute \n * @param {string|HTMLElement|Component} node \n * @param {string} [separator] default is \":\"\n * \n * @returns {string}\n */\nexport const attributeChangeEventname = (attribute, node, separator = \":\"  ) => {\n    return componentEventname(`${attributeChangeEventPrefix}-${attribute}`, node, separator);\n};\n\nexport default {componentEventname, attributeChangeEventname}","import { lazyPromise } from \"@default-js/defaultjs-common-utils/src/PromiseUtils\";\nimport { uuid } from \"@default-js/defaultjs-common-utils/src/UUID\";\nimport { triggerTimeout } from \"./Constants\";\nimport { attributeChangeEventname, componentEventname } from \"./utils/EventHelper\";\n/*\nconst PRIVATE_READY = privatePropertyAccessor(\"ready\");\n\nconst TIMEOUTS = new WeakMap();\nconst init = (component) => {\n\tlet timeout = TIMEOUTS.get(component);\n\tif (timeout) clearTimeout(timeout);\n\n\tTIMEOUTS.get(component, setTimeout(async () => {\n\t\tTIMEOUTS.delete(component);\n\t\tconst ready = PRIVATE_READY(component);\n\t\ttry{\n\t\t\tawait component.init();\n\t\t\tready.resolve();\n\t\t}catch(e){\n\t\t\tconsole.error(\"Can't initialize component!\", component, e);\n\t\t\tready.resolve(e);\n\t\t}\n\t\tcomponent.trigger(componentEventname(\"initialzed\", component));\n\t}, initTimeout));\t\n};\n*/\n\n/**\n * @function createUID\n * \n * create an unique identifire.\n * \n * @param {string} [prefix] \n * @param {string} [suffix]\n * @returns \n */\nexport const createUUID = (prefix, suffix) => {\n\tlet count = 0;\n\tlet id = null;\n\twhile (count < 100) {\n\t\tid = `${prefix ? prefix : \"\"}${uuid()}${suffix ? suffix : \"\"}`;\n\t\tif (!document.getElementById(id)) return id;\n\n\t\tcount++;\n\t}\n\tconsole.error(new Error(\"To many retries to create an unique id - created id is not unique!\"));\n\treturn id;\n};\n\nconst buildClass = (htmlBaseType) => {\n\tconst clazz = class Component extends htmlBaseType {\n\n\t\tstatic get NODENAME() {\n\t\t\treturn this.nodeName.toLowercase();\n\t\t}\n\n\t\tstatic get observedAttributes() {\n\t\t\treturn [];\n\t\t}\n\n\t\t#ready = null;\n\t\t#postConstructs = [];\n\n\t\tconstructor({ shadowRoot = false, content = null, createUID = false, uidPrefix = \"id-\", uidSuffix = \"\", postConstucts = null } = {}) {\n\t\t\tsuper();\n\t\t\tthis.#ready = lazyPromise();\n\t\t\tif (createUID) this.#postConstructs.push(async () => this.attr(\"id\", createUUID(uidPrefix, uidSuffix)));\n\t\t\t\n\t\t\tif (shadowRoot) this.attachShadow({ mode: \"open\" });\n\n\t\t\tif (content) this.root.append(typeof content === \"function\" ? content(this) : content);\n\n\t\t\tif(postConstucts instanceof Array)\n\t\t\t\tfor(let post of postConstucts)\n\t\t\t\t\tif(typeof post === \"function\")\n\t\t\t\t\t\tthis.#postConstructs.push(post)\n\t\t}\n\n\t\t\n\t\t/**\n\t\t * Array of post construct functions\n\t\t *\n\t\t * @readonly\n\t\t * @type {Array<Function>}\n\t\t */\n\t\tget postConstructs(){\n\t\t\treturn this.#postConstructs;\n\t\t}\n\n\t\t\n\t\t/**\n\t\t * root\n\t\t *\n\t\t * @readonly\n\t\t * @type {HTMLElement|ShadowRoot}\n\t\t */\n\t\tget root() {\n\t\t\treturn this.shadowRoot || this;\n\t\t}\n\n\t\t\n\t\t/**\n\t\t * ready\n\t\t *\n\t\t * @readonly\n\t\t * @type {Promise}\n\t\t */\n\t\tget ready() {\n\t\t\treturn this.#ready;\n\t\t}\n\n\t\t/**\n\t\t * @function init\n\t\t * @async\n\t\t *\n\t\t * @returns {Promise}\n\t\t */\n\t\tasync init() {\n\t\t\tfor (let func of this.#postConstructs) await func(this);\n\t\t}\n\n\t\t/**\n\t\t * \n\t\t */\n\t\tasync destroy() {\n\t\t\tif (this.ready.resolved) this.#ready = lazyPromise();\n\t\t}\n\n\t\tconnectedCallback() {\n\t\t\tif (this.ownerDocument == document && this.isConnected)\n\t\t\t\t//init(this)\n\t\t\t\tthis.init()\n\t\t\t\t\t.then((value) => this.#ready.resolve(value))\n\t\t\t\t\t.catch((error) => this.#ready.resolve(error));\n\t\t}\n\n\t\tadoptedCallback() {\n\t\t\tthis.connectedCallback();\n\t\t}\n\n\t\tattributeChangedCallback(name, oldValue, newValue) {\n\t\t\tif (oldValue != newValue && this.isConnected) {\n\t\t\t\tthis.trigger(triggerTimeout, attributeChangeEventname(name, this));\n\t\t\t\tthis.trigger(triggerTimeout, componentEventname(\"change\", this));\n\t\t\t}\n\t\t}\n\n\t\tdisconnectedCallback() {\n\t\t\tthis.destroy();\n\t\t}\n\t};\n\n\treturn clazz;\n};\n\nconst CLAZZMAP = new Map();\n\nexport const componentBaseOf = (htmlBaseType) => {\n\tlet clazz = CLAZZMAP.get(htmlBaseType);\n\tif (clazz == null) {\n\t\tclazz = buildClass(htmlBaseType);\n\t\tCLAZZMAP.set(htmlBaseType, clazz);\n\t}\n\n\treturn clazz;\n};\n\nconst Component = componentBaseOf(HTMLElement);\n\nexport default Component;\n","export const componentPrefix = \"d-\";\r\nexport const attributeChangeEventPrefix = \"attribute-\";\r\nexport const initTimeout = 10;\r\nexport const triggerTimeout = 10;\r\n","import { componentPrefix } from \"../Constants\";\n\nexport const toNodeName = (name, prefix) => {\n\tif(typeof prefix === \"string\")\n\t\treturn prefix + name;\n\t\t\n\treturn componentPrefix + name;\n};\n\nexport const define = function(clazz, options) {\n\tconst nodename = clazz.NODENAME;\n\tif (!customElements.get(nodename)) {\n\t\tcustomElements.define(nodename, clazz, options);\n\t}\n};\n\n\nexport default define; \n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","defGet","name","configurable","lazyPromise","promiseResolve","promiseError","promise","Promise","r","e","resolved","error","writable","defValue","result","Error","uuid","buf","Uint32Array","window","crypto","getRandomValues","idx","replace","c","toString","componentEventname","eventType","node","separator","nodename","HTMLElement","nodeName","NODENAME","toLowerCase","createUUID","prefix","suffix","count","id","document","getElementById","console","buildClass","htmlBaseType","this","toLowercase","observedAttributes","constructor","shadowRoot","content","createUID","uidPrefix","uidSuffix","postConstucts","super","push","async","attr","attachShadow","mode","root","append","Array","post","postConstructs","ready","init","func","destroy","connectedCallback","ownerDocument","isConnected","then","resolve","catch","adoptedCallback","attributeChangedCallback","oldValue","newValue","trigger","attribute","attributeChangeEventname","disconnectedCallback","CLAZZMAP","Map","componentBaseOf","clazz","set","options","customElements","define"],"sourceRoot":""}